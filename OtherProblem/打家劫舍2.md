 # 打家劫舍2
>和1的情况差不多，但是首尾是相通的。选了最后一个就不能选第一个了

**思路**

举个例子  
[a,b,c,d,e]  
如果包含a有哪些可能的解呢？  
只可能是  
- [a,c]
- [a,d]  
  
包含a的解一定包含在从0到length-2的dp解（见1）

再看不包含a的解
- [b,d]
- [b,e]
- [c,e]
  
同理，是从1到length-1的dp的解

两次dp求解即可

**代码**

```python
def rob2(nums: list):
    size = len(nums)
    if size == 0:
        return 0
    if size == 1:
        return nums[0]
    if size == 2:
        return max(nums[0], nums[1])
    return max(rob(nums, 0, size - 1), rob(nums, 1, size))


def rob(nums: list, start: int, end: int):
    pre = nums[start]
    last = max(nums[start], nums[start + 1])
    for i in range(start+2, end):
        pre, last = last, max(last, nums[i] + pre)
    return last
```

