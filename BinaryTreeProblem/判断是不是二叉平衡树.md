# 判断是不是二叉平衡树
> 如题


**思路**

递归判断左右子树的深度，遇到如下情况返回-1
- 左子树求深度时返回了-1，说明左子树不平衡，当前节点返回-1
- 右子树求深度时返回了-1，说明右子树不平衡，当前节点返回-1
- 左右子树的高度差超过1，返回-1

如果不满足上面的返回-1的条件的话就应该反回1+左右子树中层级大的那个

最后判断根节点的深度是不是-1即可

**代码**

```python
def is_balanced(root: TreeNode):
    return get_depth(root) != -1


def get_depth(root: TreeNode):
    if root is None:
        return 0
    left_depth = get_depth(root.left)
    if left_depth == -1:
        return -1
    right_depth = get_depth(root.right)
    if right_depth == -1:
        return -1
    if abs(left_depth-right_depth) > 1:
        return -1
    return 1+max(left_depth, right_depth)

```