# 相加两个链表
> 假设链表中每一个节点的值都在0～9之间，那么链表整体就可以代表一个整数。  
> 例如：9->3->7，可以代表整数937。  
> 给定两个这种链表的头节点head1和head2，请生成代表两个整数相加值的结果链表。  
> 例如：链表1为9->3->7，链表2为6->3，最后生成新的结果链表为1->0->0->0。

**思路**
--------------------

如果不允许修改链表结构，使用栈倒序两个链表然后相加得到新链表

如果允许修改链表的结构的话，可以省去空间开销。之间逆转两个链表，然后相加即可

**代码**
--------------------

```python
# 不允许修改原链表结构
def add_two_linked_list(l1: ListNode, l2: ListNode):
    stack1, stack2 = [], []
    node1, node2 = l1, l2
    while node1 is not None or node2 is not None:
        if node1 is not None:
            stack1.append(node1.val)
            node1 = node1.next
        if node2 is not None:
            stack2.append(node2.val)
            node2 = node2.next
    head, c = None, 0
    while stack1 or stack2:
        value = 0 if c == 0 else 1
        if stack1:
            value += stack1.pop(-1)
        if stack2:
            value += stack2.pop(-1)
        c = 0 if value < 10 else 1
        value %= 10
        new_node.next = head
        head = new_node
    if c == 1:
        new_node = ListNode(1)
        new_node.next = head
        head = new_node
    return head
```

```python
# 允许修改原链表结构
def add_two_linked_list(l1: ListNode, l2: ListNode):
    l1 = reserve_linked_list(l1)
    l2 = reserve_linked_list(l2)
    node1, node2 = l1, l2
    head, c = None, 0
    while node1 is not None or node2 is not None:
        value = 0 if c == 0 else 1
        if node1 is not None:
            value += node1.val
            node1 = node1.next
        if node2 is not None:
            value += node2.val
            node2 = node2.next
        c = 0 if value < 10 else 1
        value %= 10
        new_node = ListNode(value)
        new_node.next = head
        head = new_node
    if c == 1:
        new_node = ListNode(1)
        new_node.next = head
        head = new_node
    return head


def reserve_linked_list(head: ListNode):
    if head is None:
        return None
    pre, post = head, head.next
    while post is not None:
        post.next, pre, post = pre, post, post.next
    head.next = None
    return pre
```