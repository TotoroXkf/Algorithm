# 数组中缺少数字系列问题
- [数组中缺少数字系列问题](#数组中缺少数字系列问题)
    - [找到数组中第一个缺少的数字](#找到数组中第一个缺少的数字)
    - [找到所有数组中消失的数字](#找到所有数组中消失的数字)
    - [缺失的第一个正数](#缺失的第一个正数)



## 找到数组中第一个缺少的数字
> 给定一个数组，长度，元素都是从0到n。但是中间缺少了一个值，找到这个值
> [0,1,2,3,4,6,7,8,9] 返回5

**思路**

先加出来当前数组的总和
再计算出本来应该的数组的总和
相减得到一个差值
这个差值表示了缺少值和多出来这个值的差值
多出的这个值一定是size
所以用size减去这个差值就是缺少的值。

**代码**

```python
def get_miss_num(nums: list):
    count = 0
    for i in range(0, len(nums)):
        count += nums[i]
        count -= i
    return len(nums)-count
```


## 找到所有数组中消失的数字
> 给定一个范围在  1 ≤ a[i] ≤ n ( n = 数组大小 ) 的 整型数组，数组中的元素一些出现了两次，另一些只出现一次。
找到所有在 [1, n] 范围之间没有出现在数组中的数字。

**思路**

需要遍历两次数组

第一次遍历数组，将num[i]-1所对应的值变为-1。这一步的意义在于表示这个数字曾经是出现过的

第二次遍历遇到正数，下标+1就是缺少的值

举例说明

[4,3,2,7,8,2,3,1]

遇到4，将4-1也就是3的位置的值变为-7，遇到3，将2位置的值变为-2.......

一次遍历结束后，数组变为

[-4,-3-,2,-7,8,2,-3,-1]

再次遍历数组发现8和2是正的，对应下标4，5.分别加1，就是5和6，就是最后的答案

**代码**

```python
def find_diss_appared_numbers(nums: list):
    result = []
    for i in range(0, len(nums)):
        index = abs(nums[i])-1
        nums[index] = abs(nums[index])*-1
    for i in range(0, len(nums)):
        if nums[i] > 0:
            result.append(i+1)
    return result
```

## 缺失的第一个正数
> 给定一个未排序的整数数组，找出其中没有出现的最小的正整数。  
> 示例 1:  
> 输入: [1,2,0]  
> 输出: 3  

> 示例 2:  
> 输入: [3,4,-1,1]  
> 输出: 2  

> 示例 3:  
> 输入: [7,8,9,11,12]  
> 输出: 1

**思路**

这个题的关键思路就是利用下标来记录出现的数字。最后通过下标得到没有出现的正整数

如果能让所有位置都放上下标加一的数字，那么再扫描一遍数组，数组值不等于下标的第一个数字就是答案

所以从左遍历数字
- 如果num[i]不在[1,length]这个区间里面，没有合适的下标对应它，不处理
- 如果i位置放的就是i+1，不处理
- 如果要换过去的那个位置上放的是合适的数字，不处理
- 其它情况将num[i]和num[num[i]-1]交换，使得一个位置放置的是正确的数字

当全部遍历结束，再遍历一次，下标+1不是值就说明是缺少的数字，返回下标加1，如果都是满足的，说明缺少这个数组不缺少数字。那就返回length+1

**代码**

```python

def first_missing_positive(nums: list):
    i = 0
    size = len(nums)
    while i < size:
        value = nums[i]
        if (value <= 0 or value > size) or value == i + 1 or nums[value - 1] == value:
            i += 1
        else:
            nums[i], nums[value - 1] = nums[value - 1], nums[i]
    for i in range(size):
        if nums[i] != i + 1:
            return i + 1
    return size + 1
```