# 在有序数组旋转之后找数
> 假设按照升序排序的数组在预先未知的某个点上进行了旋转。  
> ( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。  
> 搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 -1 。    
> 数组中不包含重复数字

> 示例 1:  
输入: nums = [4,5,6,7,0,1,2], target = 0  
输出: 4  

> 示例 2:  
> 输入: nums = [4,5,6,7,0,1,2], target = 3  
> 输出: -1

**思路**

一个有序数组旋转之后从中间切开。要不就是左边有序要不就是右边有序。无论如何一定满足这个条件。

所以选取中点，判断
- nums[mid]大于nums[left],说明左边有序，如果target小于nums[mid]大于num[left],二分查找左边。否则查找右边
- 反过来。nums[mid]小于nums[right],说明右边有序。如果target大于nums[mid]且小于nums[right]，二分查找右边，否则查找左边

**代码**
```python
def search(nums: list, target: int):
    if not nums:
        return -1
    left, right = 0, len(nums) - 1
    while left <= right:
        mid = (left + right) // 2
        if nums[mid] == target:
            return mid
        if nums[left] <= nums[mid]:
            if nums[left] <= target <= nums[mid]:
                right = mid - 1
            else:
                left = mid + 1
        else:
            if nums[mid] <= target <= nums[right]:
                left = mid + 1
            else:
                right = mid - 1
    return -1
```